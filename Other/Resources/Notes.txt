Notes
12 V supply
47 mA resolution
overcurrent measurement range when resolution decreases = 12200
30 mV resolution
1000 V range

To avoid missing data to logging, MCP1525 operates on 8 Mhz, IVTS operates 500 mb/s
Therefore, maybe use a single SPI bus to ensure all messages aren't missed

SD Card
SPI is slowest but more flexible (compared to SD or MMC or SDIO)



use existing mcp GitHub to mask for just specific elements


will need to configure can message to log appropriate data

DB0:command id (high byte) = 04
DB1:command id (low byte) = 11
DB2:high byte serial number = 00
DB3:mid high byte serial num = D6
DB4:mid low byte serial num = 53
DB5:low byte serial num = FC
DB6: 00

nibble is 4 bits
EVERYTHING BIG ENDIAN
MOST SIGINFICANT BYTE AT LOWEST MEMORY

Result Message: https://www.youtube.com/watch?v=H3Bni9TZeaA&list=PL9sxdxSnViGSR7I-P0wUqJrU8DkkkSe9W&index=4

CAN ID: https://www.youtube.com/watch?v=3lov_C2Er4E&list=PL9sxdxSnViGSR7I-P0wUqJrU8DkkkSe9W&index=4

Baud Rate: https://www.youtube.com/watch?v=Zf_GhOTARhE

Overcurrent Thresholds: https://www.youtube.com/watch?v=W1G0l94ABLs

stop mode and run mode
SET_MODE p25

set config result p23
editing cyclic time of logging for respective channel

command store to save settings p25
command STORE

command start message
SET_MODE p25

resolution 30 mV


Tomorrow:
- Serial output proper values, formatted (voltage, current)
- Log Current sensor values to SD Card




- SPI busses are fragile - use two since possible
- logging to SD card introduces high latency - optimize
- architecture setup to clear can buffer before logging to miss minimum messages
- realized why atmega no good - 8 bit resolution is awful


opening and closing sd card file still very slow
test cases for can ids not in switch case
bit wise or not probably great
how is NAN printed?


add backup battery to ensure no data loss with file open
